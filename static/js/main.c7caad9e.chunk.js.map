{"version":3,"sources":["components/Country/Country.js","components/Countries/Countries.js","components/SearchForm/SearchForm.js","App.js","index.js"],"names":["Country","country","name","capital","population","languages","flag","map","lang","key","src","alt","style","width","Countries","countries","SearchForm","query","onChange","type","value","toast","configure","App","state","callNewFetchdDebounce","debounce","newFetch","trim","notifyToShortenSearch","warn","position","POSITION","BOTTOM_RIGHT","notifyInvalidSearch","length","axios","get","then","response","data","setState","catch","handleChange","e","target","this","Component","ReactDOM","render","document","getElementById"],"mappings":"6XA4CeA,G,YArCC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACTC,EAA+CD,EAA/CC,KAAMC,EAAyCF,EAAzCE,QAASC,EAAgCH,EAAhCG,WAAYC,EAAoBJ,EAApBI,UAAWC,EAASL,EAATK,KAE9C,OACE,iCACE,4BAAKJ,GACL,uCAAaC,GACb,0CAAgBC,GAEhB,yCACA,4BACGC,EAAUE,KAAI,SAAAC,GAAI,OACjB,wBAAIC,IAAKD,EAAKN,MAAOM,EAAKN,UAI9B,yBAAKQ,IAAKJ,EAAMK,IAAI,OAAOC,MAAO,CAAEC,MAAO,UCAlCC,EAhBG,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAH,OAChB,4BACGA,EAAUR,KAAI,SAAAN,GAAO,OACpB,wBAAIQ,IAAKR,EAAQC,MAAOD,EAAQC,WCMvBc,EATI,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAV,OACjB,2BAAOC,KAAK,OAAOC,MAAOH,EAAOC,SAAUA,KCK7CG,IAAMC,Y,IA2ESC,E,2MArEbC,MAAQ,CACNT,UAAW,GACXE,MAAO,I,EAOTQ,sBAAwBC,KAAS,WAC/B,EAAKC,SAAS,EAAKH,MAAMP,MAAMW,UAC9B,K,EAEHC,sBAAwB,WACtBR,IAAMS,KAAK,qLAAqC,CAC9CC,SAAUV,IAAMW,SAASC,gB,EAI7BC,oBAAsB,WACpBb,IAAMS,KAAK,+LAA0C,CACnDC,SAAUV,IAAMW,SAASC,gB,EAI7BN,SAAW,WAAO,IACRV,EAAU,EAAKO,MAAfP,MAEHA,EAAMkB,OAMXC,IACGC,IADH,gDACgDpB,IAC7CqB,MAAK,SAAAC,GACJ,GAAIA,EAASC,KAAKL,OAAS,GAIzB,OAHA,EAAKM,SAAS,CAAE1B,UAAW,UAC3B,EAAKc,wBAKP,EAAKY,SAAS,CAAE1B,UAAWwB,EAASC,UAErCE,OAAM,WACL,EAAKR,sBACL,EAAKO,SAAS,CAAE1B,UAAW,QAnB7B,EAAK0B,SAAS,CAAE1B,UAAW,M,EAuB/B4B,aAAe,SAAAC,GAAC,OAAI,EAAKH,SAAS,CAAExB,MAAO2B,EAAEC,OAAOzB,S,oFA9ClD0B,KAAKrB,0B,+BAgDG,IAAD,EACsBqB,KAAKtB,MAA1BT,EADD,EACCA,UAAWE,EADZ,EACYA,MAEnB,OACE,oCACE,kBAAC,EAAD,CAAYA,MAAOA,EAAOC,SAAU4B,KAAKH,eAEnB,IAArB5B,EAAUoB,QAAgB,mDACL,IAArBpB,EAAUoB,QAAgB,kBAAC,EAAD,CAASlC,QAASc,EAAU,KACtDA,EAAUoB,QAAU,GAAK,kBAAC,EAAD,CAAWpB,UAAWA,S,GAhEtCgC,aCVlBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.c7caad9e.chunk.js","sourcesContent":["/* import - COMPONENT */\r\nimport React from 'react';\r\nimport T from 'prop-types';\r\n\r\n/*\r\n * COMPONENT\r\n */\r\nconst Country = ({ country }) => {\r\n  const { name, capital, population, languages, flag } = country;\r\n\r\n  return (\r\n    <section>\r\n      <h2>{name}</h2>\r\n      <p>Capital: {capital}</p>\r\n      <p>Population: {population}</p>\r\n\r\n      <p>Languages:</p>\r\n      <ul>\r\n        {languages.map(lang => (\r\n          <li key={lang.name}>{lang.name}</li>\r\n        ))}\r\n      </ul>\r\n\r\n      <img src={flag} alt=\"Flag\" style={{ width: 200 }} />\r\n    </section>\r\n  );\r\n};\r\n\r\nCountry.propTypes = {\r\n  country: T.shape({\r\n    name: T.string.isRequired,\r\n    capital: T.string.isRequired,\r\n    population: T.number.isRequired,\r\n\r\n    languages: T.arrayOf(\r\n      T.shape({\r\n        name: T.string.isRequired,\r\n      }),\r\n    ).isRequired,\r\n\r\n    flag: T.string.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default Country;\r\n","/* import - COMPONENT */\r\nimport React from 'react';\r\nimport T from 'prop-types';\r\n\r\n/*\r\n * COMPONENT\r\n */\r\nconst Countries = ({ countries }) => (\r\n  <ul>\r\n    {countries.map(country => (\r\n      <li key={country.name}>{country.name}</li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nCountries.propTypes = {\r\n  countries: T.arrayOf(\r\n    T.shape({\r\n      name: T.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default Countries;\r\n","/* import - node_modules */\r\nimport React from 'react';\r\nimport T from 'prop-types';\r\n\r\n/*\r\n * COMPONENT\r\n */\r\nconst SearchForm = ({ query, onChange }) => (\r\n  <input type=\"text\" value={query} onChange={onChange} />\r\n);\r\n\r\nSearchForm.propTypes = {\r\n  query: T.string.isRequired,\r\n  onChange: T.func.isRequired,\r\n};\r\n\r\nexport default SearchForm;\r\n","/* import - node_modules */\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport debounce from 'lodash.debounce';\r\n/* import - CSS */\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.css';\r\n/* import - COMPONENT */\r\nimport Country from './components/Country/Country';\r\nimport Countries from './components/Countries/Countries';\r\nimport SearchForm from './components/SearchForm/SearchForm';\r\n\r\ntoast.configure();\r\n\r\n/*\r\n * COMPONENT\r\n */\r\nclass App extends Component {\r\n  state = {\r\n    countries: [],\r\n    query: '',\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    this.callNewFetchdDebounce();\r\n  }\r\n\r\n  callNewFetchdDebounce = debounce(() => {\r\n    this.newFetch(this.state.query.trim());\r\n  }, 1000);\r\n\r\n  notifyToShortenSearch = () => {\r\n    toast.warn('Введите еще для сокращение поиска', {\r\n      position: toast.POSITION.BOTTOM_RIGHT,\r\n    });\r\n  };\r\n\r\n  notifyInvalidSearch = () => {\r\n    toast.warn('Такой страны нету... Попробуйте иначе.', {\r\n      position: toast.POSITION.BOTTOM_RIGHT,\r\n    });\r\n  };\r\n\r\n  newFetch = () => {\r\n    const { query } = this.state;\r\n\r\n    if (!query.length) {\r\n      this.setState({ countries: [] });\r\n\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .get(`https://restcountries.eu/rest/v2/name/${query}`)\r\n      .then(response => {\r\n        if (response.data.length > 10) {\r\n          this.setState({ countries: [] });\r\n          this.notifyToShortenSearch();\r\n\r\n          return;\r\n        }\r\n\r\n        this.setState({ countries: response.data });\r\n      })\r\n      .catch(() => {\r\n        this.notifyInvalidSearch();\r\n        this.setState({ countries: [] });\r\n      });\r\n  };\r\n\r\n  handleChange = e => this.setState({ query: e.target.value });\r\n\r\n  render() {\r\n    const { countries, query } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <SearchForm query={query} onChange={this.handleChange} />\r\n\r\n        {countries.length === 0 && <div>Find need country!</div>}\r\n        {countries.length === 1 && <Country country={countries[0]} />}\r\n        {countries.length >= 2 && <Countries countries={countries} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","/* import - node_modules */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n/* import - CSS */\r\nimport './index.css';\r\n/* import - COMPONENT */\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}